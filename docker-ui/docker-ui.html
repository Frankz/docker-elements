<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../paper-header-panel/paper-header-panel.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-toolbar/paper-toolbar.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-styles/paper-styles.html">
<link rel="import" href="../paper-styles/demo-pages.html">
<link rel="import" href="../paper-fab/paper-fab.html">
<link rel="import" href="../docker-attach/docker-attach-terminal.html">
<link rel="import" href="../docker-ps/docker-ps.html">
<link rel="import" href="../docker-events-signal/docker-events-signal.html">

<dom-module id="docker-ui">
  <template>
    <style>
    /*#24b8eb*/
    :host {
      display: block;
    }

    .nav {
      border-right: 1px solid #eeeeee;
      background-color: #ffffff;
    }

    .main {
      background-color: #ffffff
    }

    paper-toolbar {
      background-color: #ffffff;
      @apply(--shadow-elevation-2dp);
      color: #333333;
      height: 120px;
    }

    .content {
      /*height: 3000px;*/
    }

      paper-item {
        font-size: 14px;
      min-height: 42px;
      }

    paper-item:hover, .iron-selected{
      background-color: #24b8eb;
      color: #FFFFFF;      
    }

    .navsection {
      /*
      border-bottom-style: solid;
      border-bottom-width: 1px;
      border-bottom-color: #EAEAEA;
      */
    }

    [vertical] {
      @apply(--layout-vertical);
    }

    [flex] {
        @apply(--layout-flex);
    }

    [horizontal] {
        @apply(--layout-horizontal);
    }

    .fab {
        color: white;
        will-change: transform;
        -webkit-transition: -webkit-transform 0.2s ease-in-out;
        transition: transform 0.2s ease-in-out;
      --paper-fab-background: var(--paper-light-blue-500);
          --paper-fab-keyboard-focus-background: var(--paper-light-blue-900);
          z-index: 100      
    }

    .fixedmenu {
      position: fixed; 
      bottom: 24px; 
      right: 24px;    
      z-index: 100;
      padding: 8px;
      @apply(--layout-vertical);
      @apply(--layout-vertical-reverse);
    }

    </style>  
    <docker-ps id="dockerps" host="127.0.0.1:4243" result="{{psresult}}" auto></docker-ps>
    <docker-events-signal host="127.0.0.1:4243" containerid="1b2fd6af1563"></docker-events-signal>
    <paper-drawer-panel id="drawerPanel" drawer-width="200px" responsive-width="980px">
      <div class="nav" drawer>
      	<paper-toolbar></paper-toolbar>

      	<div style="padding: 16px">
		    <div class="navsection">
	      <h4>Containers</h4>
	      <div class="horizontal-section">
	        <paper-menu class="list">
              <template is="dom-repeat" items="{{psresult}}">
                <paper-item>{{item.Names.0}}</paper-item>          
		          </template>
	        </paper-menu>
	      </div>
	    </div>
	    </div>

      </div>

      <paper-header-panel class="main" main mode="waterfall">

        <!-- Main Toolbar -->
        <paper-toolbar>
          <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
        </paper-toolbar>

        <!-- Main Content -->
        <div class="content">
          <div horizontal>
            <div style="padding: 30px;">
             <h4>Management Console</h4>
          	 <docker-attach-terminal host="127.0.0.1:4243" containerid="e9cc44fb65cd"></docker-attach-terminal>
            </div>
            <div style="padding: 30px;">
              <h4>Events</h4>
              <docker-attach-terminal host="127.0.0.1:4243" rows="50" cols="85" containerid="1b2fd6af1563" readonly></docker-attach-terminal>
            </div>
          </div>
        </div>

      </paper-header-panel>

    </paper-drawer-panel>

  </template>  

  <script>

    Polymer({

      is: 'docker-ui',
      properties: {
        psresult: {
          type: Object,
          notify: true,
          value: function() {
            return [];
          }
        }
      },
      listeners: {'docker-event': 'handleDockerEvent'},

      handleDockerEvent: function(e) {
        this.$.dockerps.go();
      },

  	  showAddFsForm: function() {
  	  	this.$.fsadd.open();
	    }
    });

  </script>

</dom-module>
